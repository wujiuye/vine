package com.wujiuye.vine.core;

import org.junit.Test;

/**
 * json字符串格式化
 *
 * @author wujiuye 2020/09/07
 */
public class JsonStrFormatTest {

    String jsonStr = "[\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"getSupportedMediaTypes\\\",\\\"descriptor\\\":\\\"()Ljava/util/List;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"canRead\\\",\\\"descriptor\\\":\\\"(Lorg/springframework/http/MediaType;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"canRead\\\",\\\"descriptor\\\":\\\"(Ljava/lang/reflect/Type;Ljava/lang/Class;Lorg/springframework/http/MediaType;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"getSupportedMediaTypes\\\",\\\"descriptor\\\":\\\"()Ljava/util/List;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"canWrite\\\",\\\"descriptor\\\":\\\"(Lorg/springframework/http/MediaType;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"canWrite\\\",\\\"descriptor\\\":\\\"(Ljava/lang/reflect/Type;Ljava/lang/Class;Lorg/springframework/http/MediaType;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.a.ResponseBodyAdvice\\\",\\\"methodName\\\":\\\"supports\\\",\\\"descriptor\\\":\\\"(Lorg/springframework/core/MethodParameter;Ljava/lang/Class;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.a.ResponseBodyAdvice\\\",\\\"methodName\\\":\\\"beforeBodyWrite\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Object;Lorg/springframework/core/MethodParameter;Lorg/springframework/http/MediaType;Ljava/lang/Class;Lorg/springframework/http/server/ServerHttpRequest;Lorg/springframework/http/server/ServerHttpResponse;)Ljava/lang/Object;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"getJsonEncoding\\\",\\\"descriptor\\\":\\\"(Lorg/springframework/http/MediaType;)Lcom/fasterxml/jackson/core/JsonEncoding;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.j.JacksonExclusionStrategy\\\",\\\"methodName\\\":\\\"getInstance\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Class;)Lcom/msyc/ycpay/common/util/json/jackson/JacksonExclusionStrategy;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.StringUtils\\\",\\\"methodName\\\":\\\"isNullOrEmpty\\\",\\\"descriptor\\\":\\\"(Ljava/lang/String;)Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452420,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.a.BaseResponse\\\",\\\"methodName\\\":\\\"isSuccess\\\",\\\"descriptor\\\":\\\"()Z\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452421,\\\"finishTime\\\":1599456452421,\\\"cntMs\\\":0}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.j.JacksonParser\\\",\\\"methodName\\\":\\\"toJsonString\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Object;ZLjava/lang/String;)Ljava/lang/String;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452421,\\\"cntMs\\\":1}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.JsonUtils\\\",\\\"methodName\\\":\\\"toJsonString\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Object;ZLjava/lang/String;)Ljava/lang/String;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452421,\\\"cntMs\\\":1}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.JsonUtils\\\",\\\"methodName\\\":\\\"toJsonString\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Object;)Ljava/lang/String;\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452421,\\\"cntMs\\\":1}\",\"{\\\"transactionId\\\":\\\"66f919d1-11a5-43b7-a27d-de18eb849bb2\\\",\\\"className\\\":\\\"c.m.y.c.u.j.s.JsonHttpMessageConverter\\\",\\\"methodName\\\":\\\"writeInternal\\\",\\\"descriptor\\\":\\\"(Ljava/lang/Object;Ljava/lang/reflect/Type;Lorg/springframework/http/HttpOutputMessage;)V\\\",\\\"error\\\":false,\\\"startTime\\\":1599456452420,\\\"finishTime\\\":1599456452421,\\\"cntMs\\\":1}\"]";

    /**
     * 输出正常的json字符串，去掉字符转换符
     * 用于json格式化：https://www.json.cn/
     */
    @Test
    public void testFormat() {
        System.out.println(jsonStr.replace("\"{", "{")
                .replace("}\"", "}")
                .replace("\\\"", "\""));
    }

}
